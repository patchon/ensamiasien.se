<!DOCTYPE html>
<html>
<head>
  <title>AAAAAAAAAAAAAAAAAAAAA</title>

  <link rel="stylesheet" href="pongstagr/pongstagr.am.css">

  <!-- Jquery -->
  <script src="jquery/jquery-2.1.4.min.js"></script>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="bootstrap/bootstrap.min.css">
  <link rel="stylesheet" href="bootstrap/bootstrap-theme.min.css">
  <script src="bootstrap/bootstrap.min.js"></script>

  <script type="text/javascript" src="instafeed/instafeed.js"></script>
  

  <style type="text/css">
.img-hover img {
    -webkit-transition: all .3s ease; /* Safari and Chrome */
  	-moz-transition: all .3s ease; /* Firefox */
  	-o-transition: all .3s ease; /* IE 9 */
  	-ms-transition: all .3s ease; /* Opera */
  	transition: all .3s ease;
}
.img-hover img:hover {
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-transform:translateZ(0) scale(1.20); /* Safari and Chrome */
    -moz-transform:scale(1.20); /* Firefox */
    -ms-transform:scale(1.20); /* IE 9 */
    -o-transform:translatZ(0) scale(1.20); /* Opera */
    transform:translatZ(0) scale(1.20);
}
  
  
.grayscale {
  -webkit-filter: brightness(1.10) grayscale(100%) contrast(90%);
  -moz-filter: brightness(1.10) grayscale(100%) contrast(90%);
  filter: brightness(1.10) grayscale(100%); 
}


  </style>

</head>
<body>

<div id="top" style="height:77px; border-bottom:solid; border-color:#edeeee;border-width:1px">
  <center style="padding-top:25px">Time to Bråvalla 2016 : long long long ;)</center>
</div>

    <div class="container">

        <div class="row" id="instafeed">

        </div>

  </div>
  <button type="button" id="load-more">Click Me!</button>


<script type="text/javascript">

var all_images = [];
var years_done = 0;

fetch_images_from_insta("bråvalla2013")
fetch_images_from_insta("bråvalla2014")
fetch_images_from_insta("bråvalla2015")

var interval = setInterval(stars_are_aligned, 2000);

function stars_are_aligned() {

  if (years_done === 3){
    shuffle(all_images);

    for (i = 0; i < all_images.length; i++) {
      $("#instafeed").append(all_images[i]);
    }

    clearInterval(interval);
  }

}

/* Copied right from stackowerflow */
function shuffle(array) {
  var currentIndex = array.length, temporaryValue, randomIndex ;

  // While there remain elements to shuffle...
  while (0 !== currentIndex) {

    // Pick a remaining element...
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;

    // And swap it with the current element.
    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }

  return array;
}



//var loadButton = document.getElementById('load-more');

  function fetch_images_from_insta(tag){
    var feed = new Instafeed({
          get       : 'tagged',
          tagName   : tag,
          clientId  : 'eb01b1b10b72457ea650f74f756bde4a',
          mock      : 'true',
          limit     : '60',
          success   : function(insta_data) {

            var image_data = insta_data.data;

            // Loop the images,
            for (i = 0; i < image_data.length; i++) {
              all_images.push('<div class="col-lg-3 col-md-4 col-xs-6"><a href="'+image_data[i].link+'"><img class="img-responsive" src="'+image_data[i].images.thumbnail.url+'"></a></div>');
            }
          },

          after: function() {
            console.log(all_images);
            years_done++;
          },

      });
    feed.run();
    }


// bind the load more button
//loadButton.addEventListener('click', function() {
//  feed.next();
//});


  //var feed = new Instafeed({
  //      get       : 'tagged',
  //      tagName   : 'bråvalla2013',
  //      clientId  : 'eb01b1b10b72457ea650f74f756bde4a',
  //      sortBy    : 'random',
  //      links     : 'true',
  //      limit     : '60',
  //      template: '<a href="{{link}}" class="col-xs-12 col-sm-2 col-md-2 col-lg-2"><img src="{{image}}" /></a>'
  //  });

//feed.run();

</script>

</body>
</html>
