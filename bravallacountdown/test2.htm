<!DOCTYPE html>
<html>
<head>
  <title>DO IT, JUST DO IT !!</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width">

  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/bravallacountdown.css">
  <link rel="stylesheet" type="text/css" href="css/sstyle.css" />

  <script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
  <script type="text/javascript" src="js/jquery-ui.min.js"></script>
  <script type="text/javascript" src="js/jquery.countdown.js"></script>
  <script  type="text/javascript"src="js/lodash.min.js"></script>
  <script type="text/javascript" src="js/instafeed.js"></script>
  <script type="text/javascript" src="js/bravallacountdown.js"></script>

	<script type="text/javascript" src="js/freewall.js"></script>

    <style type="text/css">
			.free-wall {
				margin: 15px;
			}
			.brick img {
				margin: 0;
				display: block;
			}
      .brick {
        background-color:transparent;
      }
      .thumbnail > a:not(.btn) {
        display: block;
        min-height: 0px; 
      }

		</style>

</head>

<body>
<header id="banner">
  <div id="slideshow">
    <div>
      <img src="images/3_2.jpg">
    </div>
    <div>
      <img src="images/3_3.jpg">
    </div>
    <div>
      <img src="images/1.jpg">
    </div>
  </div>
</header>

<nav class="main-nav">
  <a href="#">Br√•valla Festival</a>
  <a href="#">Buy Tickets</a>
  <a href="#">Add to calendar</a>
  <a href="#">About</a>
</nav>



<div class="main">
  <div class="container">
    <div class="col-xs-12">
      <div class="well well-sm row">
        <div class="freewall" id="freewall"></div>
      </div>
    </div>
  </div>
</div>

    <script type="text/javascript">

var insta_url = "https://scontent.cdninstagram.com/hphotos-xfa1/t51.2885-15/s320x320";
var insta_img = [ "/hphotos-xaf1/t51.2885-15/s320x320/e35/11849812_453925804797923_1037690099_n.jpg",
"/hphotos-xaf1/t51.2885-15/s320x320/e15/11950732_1045365305481193_1510737660_n.jpg",
"/hphotos-xaf1/t51.2885-15/s320x320/e15/11856798_1633296190280456_286620066_n.jpg",
"/hphotos-xfa1/t51.2885-15/s320x320/e35/11850251_1619476061660546_428176707_n.jpg",
"/hphotos-xpf1/t51.2885-15/s320x320/e15/1389053_485724098192427_1768311517_n.jpg",
"/hphotos-xaf1/t51.2885-15/s320x320/e15/11242146_1590234334571200_1909937131_n.jpg",
"/hphotos-xpa1/t51.2885-15/s320x320/e15/1170221_676279242392079_760256620_n.jpg",
"/hphotos-xfp1/t51.2885-15/s320x320/e15/1515441_378902265608432_2118917037_n.jpg",
"/hphotos-xfp1/t51.2885-15/s320x320/e15/10727785_736958746352189_1318278458_n.jpg",
"/hphotos-xpa1/t51.2885-15/s320x320/e15/925919_356791627831892_534027617_n.jpg",
"/hphotos-xfa1/t51.2885-15/s320x320/e35/11850251_1619476061660546_428176707_n.jpg",
"/hphotos-xaf1/t51.2885-15/s320x320/e15/11856798_1633296190280456_286620066_n.jpg",
"/hphotos-xaf1/t51.2885-15/s320x320/e15/11950732_1045365305481193_1510737660_n.jpg",
"/hphotos-xaf1/t51.2885-15/s320x320/e35/11351988_1494107357571916_887894216_n.jpg",
"/hphotos-xaf1/t51.2885-15/s320x320/e35/11849812_453925804797923_1037690099_n.jpg",
"/hphotos-xpf1/t51.2885-15/s320x320/e15/1389053_485724098192427_1768311517_n.jpg",
"/hphotos-xaf1/t51.2885-15/s320x320/e15/11266372_806418462729095_716945733_n.jpg",
"/hphotos-xap1/t51.2885-15/s320x320/e15/10843777_1572126753024347_1971721121_n.jpg",
"/hphotos-xpa1/t51.2885-15/s320x320/e15/10747886_297428043800115_1880902890_n.jpg",
"/hphotos-xpa1/t51.2885-15/s320x320/e15/925919_356791627831892_534027617_n.jpg",
"/hphotos-xfa1/t51.2885-15/s320x320/e35/11421974_1464200663885414_1020465509_n.jpg",
"/hphotos-xfa1/t51.2885-15/s320x320/e35/11850251_1619476061660546_428176707_n.jpg",
"/hphotos-xaf1/t51.2885-15/s320x320/e15/11856798_1633296190280456_286620066_n.jpg",
"/hphotos-xaf1/t51.2885-15/s320x320/e35/11849812_453925804797923_1037690099_n.jpg",
"/hphotos-xat1/t51.2885-15/s320x320/e15/1172968_1442561419304976_495973656_n.jpg",
"/hphotos-xaf1/t51.2885-15/s320x320/e15/11378812_468092670017278_1191427678_n.jpg",
"/hphotos-xpa1/t51.2885-15/s320x320/e15/1390172_449455975165135_1258822997_n.jpg",
"/hphotos-xat1/t51.2885-15/s320x320/e15/10809594_609016985890406_425976908_n.jpg",
"/hphotos-xpa1/t51.2885-15/s320x320/e15/10729426_712523708840842_678937784_n.jpg",
"/hphotos-xfp1/t51.2885-15/s320x320/e15/10727785_736958746352189_1318278458_n.jpg", ]

var temp = "<div class='brick' style='width:{width}px; border:dotted red 1px; margin:2px'><img src='"+insta_url+"/{index}.jpg' width='100%'></div>";
  
var row = 0;
  var   thumb  = '<div class="brick" style=\'width:{width}px;\'>'
        thumb += '  <div class="thumbnail text-center scaling">'
        thumb += '    <strong id="caption_'+row+'"></strong>'
        //thumb += '    <div class="spinner" id="spinner_'+row+'"/>'
        thumb += '      <a href="#" id="link_'+row+'" target="_blank">'
        thumb += '        <img id="thumb_'+row+'" src="'+insta_url+'/{index}.jpg" class="fade">'
        thumb += '      </a>'
        thumb += '      <span>'
        thumb += '        <i id="likes_'+row+'" class="glyphicon glyphicon-heart likes" "></i>&nbsp; '
        thumb += '      </span>'
        thumb += '      <span>'
        thumb += '        <i id="comments_'+row+'" class="glyphicon glyphicon-comment comments"></i>&nbsp; '
        thumb += '      </span>'
        //thumb += '    </div>'
        thumb += '  </div>'
        thumb += '</div>'


var w = 1, h = 1, html = '';

for (var i = 0; i < insta_img.length; ++i) {
  w = 1 + 2 * Math.random() << 0;
  console.log(w);
  console.log(w*150);
	html += thumb.replace(/\{width\}/g, w*130).replace("{index}", insta_img[i]);
}
$("#freewall").html(html);

		var wall = new freewall("#freewall");
		wall.reset({
			selector: '.brick',
			animate: true,
      gutterX: 1,
      gutterY: 1,
			//cellW: function(width) {
      //  var cellWidth = width / 3;
      //  return cellWidth - 40;
      //},
      cellW: '150',
      cellH: 'auto',
      //cellW: 100,
			//cellH: 'auto',
			onResize: function() {
				wall.fitWidth();
			}
		});

		var images = wall.container.find('.brick');
		images.find('img').load(function() {
			wall.fitWidth();
		});

  // Setup the header banner scroller,
  var   mn = $(".main-nav");
        mns = "main-nav-scrolled";
        hdr = $('header').height();

  $(window).scroll(function() {
    if( $(this).scrollTop() > hdr ) {
      mn.addClass(mns);
    } else {
      mn.removeClass(mns);
    }
  });

  // Setup the header banner slider,
	$(function() {
		$("#slideshow > div:gt(0)").hide();
		setInterval(function() {
		  $('#slideshow > div:first')
		    .fadeOut(1000)
		    .next()
		    .fadeIn(1000)
		    .end()
		    .appendTo('#slideshow');
		},  3000);
	});
</script>


</body>
</html>
